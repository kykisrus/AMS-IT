# AMS IT - Act Monitoring System for IT

Система мониторинга актов для ИТ-отдела - веб-платформа для управления ИТ-активами, автоматизации документооборота и отслеживания сервисных операций.

## Цель проекта

Оптимизация учёта техники, сокращение ручных процессов и повышение прозрачности работы ИТ-отделов.

## Ключевые возможности

* **Учёт и контроль ИТ-активов**
  * Управление техникой и инвентарными номерами
  * История перемещений и изменений
  * Отслеживание состояния оборудования

* **Документооборот**
  * Генерация актов приёма-передачи
  * Создание ремонтных заключений
  * Автоматическая нумерация документов
  * Электронная подпись документов

* **Интеграции**
  * Синхронизация с GLPI
  * Экспорт данных в различные форматы
  * API для внешних систем

* **Аналитика и отчётность**
  * Мониторинг затрат на ремонты
  * Статистика использования техники
  * Отчёты по движению активов

* **Уведомления**
  * Автоматические уведомления о событиях
  * Напоминания о сроках
  * Оповещения о статусах ремонтов

## Технологии

* **Backend**: Node.js, Express, MySQL
* **Frontend**: React, TypeScript, Material-UI
* **Аутентификация**: JWT
* **Безопасность**: bcryptjs
* **Документация**: Swagger/OpenAPI

## Требования

* Node.js 16.x или выше
* MySQL 8.0 или выше
* npm или yarn

## Установка и запуск

### Автоматическая установка

Для автоматической установки используйте скрипт `install.sh`:

```bash
# Сделать скрипт исполняемым
chmod +x install.sh

# Запустить установку
./install.sh
```

Скрипт установки выполнит следующие действия:
1. Настройка npm и глобальных пакетов
2. Проверка и настройка прав доступа
3. Проверка наличия и версии Node.js (требуется 16.x или выше)
4. Очистка существующих node_modules
5. Настройка базы данных MySQL:
   - Проверка наличия MySQL
   - Запуск MySQL если не запущен
   - Создание базы данных
   - Импорт схемы
6. Установка зависимостей бэкенда
7. Настройка frontend:
   - Очистка node_modules
   - Обновление package.json
   - Установка зависимостей
8. Настройка конфигурации:
   - Создание .env файла
   - Генерация JWT секрета
9. Настройка прав доступа для всех файлов
10. Обновление PATH для npm

После установки:
1. Перезапустите терминал или выполните `source ~/.bashrc`
2. Запустите приложение командой `npm run dev:full`

### Ручная установка

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/kykisrus/AMS-IT.git
   cd AMS-IT
   ```

2. Запустите скрипт установки:
   ```bash
   ./install.sh
   ```

   Скрипт выполнит следующие действия:
   - Установит зависимости для бэкенда и фронтенда
   - Применит миграции базы данных, включая:
     - Создание таблицы equipment
     - Добавление поля uuid
     - Добавление полей purchase_cost, depreciation_period, liquidation_value
     - Добавление поля type

3. Запустите сервер:
   ```bash
   npm run dev:full
   ```

## Структура проекта

```
AMS-IT/
├── frontend/           # React приложение
├── backend/           # Node.js сервер
├── database/          # SQL скрипты и миграции
└── docs/             # Документация
```

## Роли пользователей

* **Супер-админ**: Полный доступ ко всем функциям
* **ИТ-специалист**: Управление техникой и актами
* **МОЛ**: Работа с актами приёма-передачи
* **Бухгалтер**: Просмотр финансовой информации
* **Комиссия по ремонту**: Управление ремонтами
* **Инвентаризационная комиссия**: Проведение инвентаризации

## Лицензия

GNUv3

## Контакты

* Автор: Кук Бахарев
* GitHub: [@kykisrus](https://github.com/kykisrus) 

## Структура базы данных

### Таблица equipment
- id: INT PRIMARY KEY AUTO_INCREMENT
- inventory_number: VARCHAR(50) NOT NULL UNIQUE
- type: VARCHAR(100) NOT NULL
- model: VARCHAR(100) NOT NULL
- serial_number: VARCHAR(100)
- uuid: VARCHAR(100)
- manufacturer: VARCHAR(100)
- purchase_date: DATE
- purchase_cost: DECIMAL(10,2)
- depreciation_period: INT
- liquidation_value: DECIMAL(10,2)
- current_owner: INT
- current_status: ENUM('in_stock', 'in_use', 'in_repair', 'written_off', 'archived') DEFAULT 'in_stock'
- description: TEXT
- company_id: INT
- glpi_id: VARCHAR(100)
- created_at: TIMESTAMP DEFAULT CURRENT_TIMESTAMP
- updated_at: TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP

## Дополнительная информация
- Для добавления новой техники используйте форму на фронтенде.
- Все поля формы соответствуют структуре таблицы equipment.
