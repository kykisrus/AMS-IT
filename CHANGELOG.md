# История изменений

## [0.1.3] - 2025-05-14

### Добавлено
- Добавлено подробное руководство по стилю проекта (STYLE_GUIDE.md)
- Разработана архитектура базы данных:
  - Схема пользователей и ролей
  - Схема оборудования и его категорий
  - Схема актов и связанных документов
  - Схема сотрудников и их подразделений
- Добавлена система логирования действий пользователей
- Реализована система уведомлений
- Добавлена валидация форм на клиенте
- Добавлена поддержка загрузки файлов
- Добавлена система кэширования данных
- Добавлена поддержка многоязычности (i18n)
- Добавлена иконка SecurityIcon для пункта меню "Роли"
- Добавлен компонент Layout для общей структуры страниц
- Добавлен компонент PrivateRoute для защиты маршрутов
- Добавлен контекст аутентификации (AuthContext)
- Добавлены страницы для управления ролями (RolesPage, RoleForm)

### Изменено
- Полностью реорганизована структура маршрутов в App.tsx
- Переработана система навигации:
  - Унифицированы названия пунктов меню (Дашборд вместо Главная)
  - Улучшена структура подменю
  - Добавлена поддержка хлебных крошек
- Оптимизирована работа с API:
  - Добавлен механизм повторных попыток при сбоях
  - Реализовано кэширование запросов
  - Добавлена поддержка отмены запросов
- Улучшена производительность:
  - Оптимизированы запросы к API
  - Добавлена ленивая загрузка компонентов
  - Реализовано мемоизирование тяжелых вычислений
- Переработана система аутентификации:
  - Изменен метод входа с login на email
  - Улучшена обработка токенов
  - Добавлена защита от параллельных запросов

### Исправлено
- Исправлены критические ошибки аутентификации:
  - Проблема с истечением токена
  - Ошибки при обновлении токена
  - Проблемы с параллельными запросами
- Исправлены пути импорта для компонентов страниц
- Исправлено сохранение состояния открытого меню в Sidebar
- Исправлены утечки памяти в компонентах
- Исправлены проблемы с форматированием дат
- Исправлены ошибки валидации форм
- Исправлены проблемы с отображением данных в таблицах
- Исправлены проблемы с загрузкой списка сотрудников
- Исправлены проблемы с отображением ролей
- Исправлены проблемы с навигацией между панелями

### Оптимизация
- Улучшена производительность рендеринга
- Оптимизирована работа с большими наборами данных
- Улучшена обработка ошибок сети
- Оптимизирована работа с локальным хранилищем
- Улучшена обработка состояния загрузки
- Оптимизирована работа с формами

## [0.1.2] - 2025-05-13

### Удалено
- Удалены устаревшие файлы миграций в `backend/database/migrations/`:
  - `create_users_table.sql`
  - `create_acts_table.sql`
  - `create_act_equipment_table.sql`
  - `create_companies_table.sql`
  - `create_equipment_table.sql`
- Удалены устаревшие файлы документации:
  - `docs/database.md`
  - `docs/employee.md`
  - `docs/DATABASE.md`
- Удален устаревший файл `backend/database/init.sql`

### Изменено
- Обновлен `README.md` с актуальным адресом репозитория и инструкциями по ручной установке
- Обновлен скрипт `install.sh` для использования актуального файла `setup.sql`
- Обновлена документация по структуре БД в `docs/DATABASE1.2.md`
- Обновлены типы актов с 'inventory' на 'transfer'
- Исправлены импорты компонентов в App.tsx
- Обновлена структура Sidebar с использованием Material-UI
- Исправлен компонент Header для корректного отображения имени пользователя
- Обновлены типы в хуке useAuth
- Исправлены пути импорта компонентов
- Обновлена логика генерации номеров актов
- Исправлены стили компонентов для соответствия дизайн-системе
- Оптимизирована работа с localStorage в хуке useAuth
- Удалены лишние console.log из кода
- Улучшен скрипт установки `install.sh`:
  - Добавлены новые зависимости для бэкенда (body-parser, multer, helmet, morgan)
  - Добавлены новые зависимости для фронтенда (@mui/lab, date-fns, formik, yup, react-query)
  - Добавлена проверка версии MySQL (8.0+)
  - Добавлена настройка кодировки базы данных (utf8mb4)
  - Добавлены настройки безопасности (CORS, rate limiting, security headers)
  - Добавлены настройки для загрузки файлов
  - Улучшена обработка ошибок и логирование

### Добавлено
- Добавлен файл `CHANGELOG.md` для отслеживания изменений
- Полная структура базы данных с таблицами для пользователей, оборудования, актов и компаний
- Система аутентификации и авторизации с ролями пользователей
- API для работы с актами приёма-передачи, ремонтов и списания
- Фронтенд на React с Material-UI
- Система уведомлений
- Логирование действий пользователей
- Система загрузки файлов с настройками безопасности
- Улучшенная система логирования с использованием morgan
- Расширенные настройки безопасности с использованием helmet

## [0.1.1] - 2025-04-22

### Добавлено
- Создана базовая структура проекта:
  - Настроен TypeScript
  - Настроен ESLint и Prettier
  - Настроен Webpack
  - Добавлены основные зависимости
- Реализованы основные компоненты интерфейса:
  - Система навигации
  - Компоненты форм
  - Таблицы данных
  - Модальные окна
  - Уведомления
- Добавлена темная тема Material-UI:
  - Настроены цвета
  - Добавлены стили
  - Реализованы кастомные компоненты
- Настроена система сборки:
  - Оптимизация бандла
  - Поддержка source maps
  - Настройка dev server
- Добавлена базовая документация:
  - README.md
  - Инструкции по установке
  - Описание структуры

### Изменено
- Настроена базовая маршрутизация:
  - Добавлены основные маршруты
  - Настроена защита маршрутов
  - Добавлена поддержка параметров
- Настроена структура проекта:
  - Организация компонентов
  - Настройка импортов
  - Конфигурация TypeScript
- Оптимизирована производительность:
  - Настроено кэширование
  - Оптимизированы ассеты
  - Настроена минификация
